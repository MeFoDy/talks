!function(){"use strict";const e=(e,t)=>{for(const[s,i]of Object.entries(t))Object.defineProperty(e,s,{value:i,writable:!1,enumerable:!0,configurable:!0})};class t extends Error{}var s={containerSelector:".shower",progressSelector:".progress",stepSelector:".next",fullModeClass:"full",listModeClass:"list",slideSelector:".slide",slideTitleSelector:"h2",activeSlideClass:"active",visitedSlideClass:"visited"};class i extends EventTarget{constructor(t,s){super(),e(this,{shower:t,element:s,state:{visitCount:0,innerStepCount:0}}),this._isActive=!1,this._options=this.shower.options,this.element.addEventListener("click",e=>{e.defaultPrevented||(this.activate(),this.shower.enterFullMode())})}get isActive(){return this._isActive}get isVisited(){return this.state.visitCount>0}get id(){return this.element.id}get title(){const e=this.element.querySelector(this._options.slideTitleSelector);return e?e.innerText:""}activate(){if(this._isActive)return;const e=this.shower.activeSlide;e&&e._deactivate(),this.state.visitCount++,this.element.classList.add(this._options.activeSlideClass),this._isActive=!0,this.dispatchEvent(new Event("activate")),this.shower.dispatchEvent(new CustomEvent("slidechange",{detail:{prev:e}}))}deactivate(){if(this.shower.isFullMode)throw new t("In full mode, another slide should be activated instead.");this._isActive&&this._deactivate()}_deactivate(){this.element.classList.replace(this._options.activeSlideClass,this._options.visitedSlideClass),this._isActive=!1,this.dispatchEvent(new Event("deactivate"))}}var n=e=>{const{container:t}=e,s=(()=>{const e=document.createElement("section");return e.className="region",e.setAttribute("role","region"),e.setAttribute("aria-live","assertive"),e.setAttribute("aria-relevant","all"),e.setAttribute("aria-label","Slide Content: Auto-updating"),e})();t.appendChild(s);const i=()=>{e.isFullMode?t.setAttribute("role","application"):t.removeAttribute("role")},n=()=>{const t=e.activeSlide;t&&(s.innerHTML=t.element.innerHTML)};e.addEventListener("start",()=>{i(),n()}),e.addEventListener("modechange",i),e.addEventListener("slidechange",n)},a=e=>{e.container.addEventListener("keydown",t=>{t.defaultPrevented||(e=>-1!==e.tabIndex)(t.target)||((t=>{const s=!(t.ctrlKey||t.altKey||t.metaKey);switch(t.key.toUpperCase()){case"ENTER":if(t.metaKey&&e.isListMode){t.shiftKey&&(t.preventDefault(),e.first());break}t.preventDefault(),t.shiftKey?e.prev():e.next();break;case"BACKSPACE":case"PAGEUP":case"ARROWUP":case"ARROWLEFT":case"H":case"K":case"P":s&&(t.preventDefault(),e.prev(t.shiftKey));break;case"PAGEDOWN":case"ARROWDOWN":case"ARROWRIGHT":case"L":case"J":case"N":s&&(t.preventDefault(),e.next(t.shiftKey));break;case" ":s&&e.isFullMode&&(t.preventDefault(),t.shiftKey?e.prev():e.next());break;case"HOME":t.preventDefault(),e.first();break;case"END":t.preventDefault(),e.last()}})(t),(t=>{switch(t.key.toUpperCase()){case"ESCAPE":e.isFullMode&&(t.preventDefault(),e.exitFullMode());break;case"ENTER":t.metaKey&&e.isListMode&&(t.preventDefault(),e.enterFullMode());break;case"P":t.metaKey&&t.altKey&&e.isListMode&&(t.preventDefault(),e.enterFullMode());break;case"F5":t.shiftKey&&e.isListMode&&(t.preventDefault(),e.enterFullMode())}})(t))})},r=e=>{const t=()=>{const t=e.isFullMode?"?full":"",s=e.activeSlide,i=s?`#${s.id}`:"";return location.pathname+t+i},s=()=>{new URLSearchParams(location.search).has("full")?e.enterFullMode():e.exitFullMode(),(()=>{const t=location.hash.slice(1);if(!t)return;const s=e.slides.find(e=>e.id===t);s?s.activate():e.activeSlide||e.first()})()};s(),window.addEventListener("popstate",s),e.addEventListener("start",()=>{history.replaceState(null,document.title,t())}),e.addEventListener("modechange",()=>{history.replaceState(null,document.title,t())}),e.addEventListener("slidechange",()=>{const e=t();location.href.endsWith(e)||history.pushState(null,document.title,e)})};const l=["s","m","h"];var o=e=>{if(!e)return 0;const t=(e=>l.some(t=>e.includes(t)))(e)?(e=>l.map(t=>e.match(`(\\S+)${t}`)).map(e=>e&&e[1]))(e):(e=>`::${e}`.split(":").reverse())(e);let[s,i,n]=t.map(Number);return s+=60*i,s+=3600*n,Math.max(1e3*s,0)};var d=e=>{n(e),(e=>{const{progressSelector:t}=e.options,s=e.container.querySelector(t);if(!s)return;s.setAttribute("role","progressbar"),s.setAttribute("aria-valuemin",0),s.setAttribute("aria-valuemax",100);const i=()=>{const t=e.activeSlideIndex,{length:i}=e.slides,n=t/(i-1)*100;s.style.width=`${n}%`,s.setAttribute("aria-valuenow",n),s.setAttribute("aria-valuetext",`Slideshow progress: ${n}%`)};e.addEventListener("start",i),e.addEventListener("slidechange",i)})(e),a(e),(e=>{const{stepSelector:t,activeSlideClass:s,visitedSlideClass:i}=e.options;let n,a;const r=e=>e.classList.contains(s),l=e=>e.classList.contains(i),o=()=>{if(e.isListMode)return;const s=e.activeSlide;n=[...s.element.querySelectorAll(t)],a=n.length&&n.every(l)?n.length:n.filter(r).length-1,s.state.innerStepCount=n.length};e.addEventListener("start",o),e.addEventListener("modechange",o),e.addEventListener("slidechange",o),e.addEventListener("next",t=>{e.isListMode||t.defaultPrevented||!t.cancelable||(a++,n.forEach((e,t)=>{e.classList.toggle(i,t<a),e.classList.toggle(s,t===a)}),a<n.length&&t.preventDefault())}),e.addEventListener("prev",t=>{e.isListMode||t.defaultPrevented||!t.cancelable||-1!==a&&a!==n.length&&(a--,n.forEach((e,t)=>{e.classList.toggle(i,t<a+1),e.classList.toggle(s,t===a)}),t.preventDefault())})})(e),(e=>{let t;const s=()=>{if(clearTimeout(t),e.isListMode)return;const s=e.activeSlide,{visitCount:i,innerStepCount:n}=s.state;if(i>1)return;const a=o(s.element.dataset.timing);a&&(t=n?setInterval(()=>e.next(),a/(n+1)):setTimeout(()=>e.next(),a))};e.addEventListener("start",s),e.addEventListener("modechange",s),e.addEventListener("slidechange",s),e.container.addEventListener("keydown",e=>{e.defaultPrevented||clearTimeout(t)})})(e),(e=>{const{title:t}=document,s=()=>{if(e.isFullMode){const s=e.activeSlide.title;if(s)return void(document.title=`${s} â€” ${t}`)}document.title=t};e.addEventListener("start",s),e.addEventListener("modechange",s),e.addEventListener("slidechange",s)})(e),r(e),(e=>{const{container:t}=e,{fullModeClass:s,listModeClass:i}=e.options;t.classList.contains(s)?e.enterFullMode():t.classList.add(i);const n=()=>{const s=e.slides[0];if(!s)return;const{innerWidth:i,innerHeight:n}=window,{offsetWidth:a,offsetHeight:r}=s.element,l=1/(a/i),o=1/Math.max(a/i,r/n);t.style.setProperty("--shower-list-scale",l),t.style.setProperty("--shower-full-scale",o)},a=()=>{if(e.isFullMode?(t.classList.remove(i),t.classList.add(s)):(t.classList.remove(s),t.classList.add(i)),n(),e.isFullMode)return;const a=e.activeSlide;a&&a.element.scrollIntoView({block:"center"})};e.addEventListener("start",a),e.addEventListener("modechange",a),e.addEventListener("slidechange",()=>{e.isFullMode||e.activeSlide.element.scrollIntoView({block:"nearest"})}),window.addEventListener("resize",n)})(e),(e=>{let t=!1,s=!1;document.addEventListener("touchstart",i=>{if(1===i.touches.length){const t=i.touches[0],n=t.clientX,{target:a}=t;(s=-1!==a.tabIndex)||e.isFullMode&&(i.cancelable&&i.preventDefault(),window.innerWidth/2<n?e.next():e.prev())}else 3===i.touches.length&&(t=!0)}),e.container.addEventListener("touchend",i=>{t?(i.preventDefault(),t=!1,e.exitFullMode()):1===i.touches.length&&!s&&e.isFullMode&&i.preventDefault()})})(e),e.isFullMode&&!e.activeSlide&&e.first()};const c=new class extends EventTarget{constructor(t){super(),e(this,{options:{...s,...t}}),this._mode="list",this._isStarted=!1,this._container=null}configure(e){if(this._isStarted)throw new t("Shower should be configured before it is started.");Object.assign(this.options,e)}start(){if(this._isStarted)return;const{containerSelector:e}=this.options;if(this._container=document.querySelector(e),!this._container)throw new t(`Shower container with selector '${e}' was not found.`);this._initSlides(),d(this),this._isStarted=!0,this.dispatchEvent(new Event("start"))}_initSlides(){const e=`${this.options.slideSelector}:not([hidden])`,t=this._container.querySelectorAll(e);this.slides=Array.from(t,(e,t)=>(e.id||(e.id=t+1),new i(this,e)))}_setMode(e){e!==this._mode&&(this._mode=e,this.dispatchEvent(new Event("modechange")))}dispatchEvent(e){return!!this._isStarted&&super.dispatchEvent(e)}get container(){return this._container}get isFullMode(){return"full"===this._mode}get isListMode(){return"list"===this._mode}get activeSlide(){return this.slides.find(e=>e.isActive)}get activeSlideIndex(){return this.slides.findIndex(e=>e.isActive)}enterFullMode(){this._setMode("full")}exitFullMode(){this._setMode("list")}goTo(e){const t=this.slides[e];t&&t.activate()}goBy(e){this.goTo(this.activeSlideIndex+e)}prev(e){const t=new Event("prev",{cancelable:!e});this.dispatchEvent(t)&&this.goBy(-1)}next(e){const t=new Event("next",{cancelable:!e});this.dispatchEvent(t)&&this.goBy(1)}first(){this.goTo(0)}last(){this.goTo(this.slides.length-1)}}(document.currentScript.dataset);var h;Object.defineProperty(window,"shower",{value:c,configurable:!0}),h=(()=>{c.start()}),document.currentScript.async?h():document.addEventListener("DOMContentLoaded",h)}();
